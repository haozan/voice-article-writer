<% if WritingTip.active.any? %>
  <div class="mt-3" data-controller="writing-tip">
    <div class="flex items-center gap-2 px-4 py-2.5 bg-primary/5 border border-primary/20 rounded-lg">
      <!-- Light bulb icon -->
      <div class="flex-shrink-0">
        <%= lucide_icon "lightbulb", class: "w-4 h-4 text-primary/70" %>
      </div>
      
      <!-- Tip content -->
      <div class="flex-1 min-w-0">
        <p class="text-sm text-secondary leading-relaxed" data-writing-tip-target="content">
          <%= WritingTip.random_tip&.content || "加载中..." %>
        </p>
      </div>
      
      <!-- Navigation buttons -->
      <div class="flex items-center gap-1 flex-shrink-0">
        <button 
          type="button"
          data-action="click->writing-tip#previous"
          class="p-1.5 text-secondary hover:text-primary hover:bg-primary/10 rounded transition-colors"
          title="上一个技巧"
        >
          <%= lucide_icon "chevron-left", class: "w-4 h-4" %>
        </button>
        <button 
          type="button"
          data-action="click->writing-tip#next"
          class="p-1.5 text-secondary hover:text-primary hover:bg-primary/10 rounded transition-colors"
          title="下一个技巧"
        >
          <%= lucide_icon "chevron-right", class: "w-4 h-4" %>
        </button>
      </div>
    </div>
    
    <!-- Hidden data attributes -->
    <div class="hidden" 
         data-writing-tip-target="tipsData"
         data-tips='<%= WritingTip.active.ordered.to_json(only: [:id, :content]).html_safe %>'
    ></div>
  </div>
<% end %>
