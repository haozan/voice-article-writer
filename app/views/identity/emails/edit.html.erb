<div class="container-sm flex items-center justify-center flex-1 py-12">
  <div class="card w-full">
    <div class="card-body">
      <h1 class="text-3xl font-bold text-center text-primary mb-8">验证邮箱</h1>

      <% if @user.email && !@user.verified? %>
        <div class="alert-info mb-6">
          <p class="text-sm">我们已向 <strong><%= @user.email %></strong> 发送验证邮件。请检查你的收件箱并点击验证链接。</p>
        </div>

        <%= button_to "重新发送验证邮件", identity_email_verification_path, class: "btn-ghost w-full" %>
      <% else %>
        <%= form_with model: @user, url: identity_email_path, method: :patch, local: true, class: "space-y-6" do |form| %>
          <div>
            <%= form.label :email do %>
              新邮箱地址
            <% end %>
            <%= form.email_field :email, required: true, autofocus: true, autocomplete: "email", placeholder: "输入新邮箱地址" %>
          </div>

          <div class="pt-2">
            <%= form.submit "保存更改", class: "btn-primary w-full btn-lg" %>
          </div>
        <% end %>
      <% end %>

      <div class="text-center mt-8">
        <%= link_to "返回个人资料", profile_path, class: "text-primary hover:text-primary-dark underline font-medium transition-colors" %>
      </div>
    </div>
  </div>
</div>